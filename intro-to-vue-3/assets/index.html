<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>intro to vue3</title>

    <link rel="stylesheet" href="./styles.css" />
    <script src="https://unpkg.com/vue@next"></script>
  </head>

  <body>
    <div id="app" >
      <h1 id="amazonHeading">Shonine</h1>
      <h2 id="amazonDepartment">{{department}} Dept</h2>
      <h3 id="amazonProduct">{{product_name}}</h3>

      <div id="product_container">
        <img id="product_img"
            :src="image_src" 
            :alt="image_alt" 
            height="400" width="560" 
            :style="(inventory>0) ? {'border':'2mm solid green'} : {}"
            :class="(inventory<=0)? 'out_of_stock':''"   
        />
        <div id="product_color_select" >
          <h4 class="section-heading">COLOR SELECT</h4>
          <!-- Vue class binding, v-for and v-on all in one -->
          <div v-for="v in variants" 
               :class="['version_'+v.color, 'color-circle']"
               @mouseover="changeColor(v.color)"
               style="display: inline-block;"
          ></div>
        </div>

        <div id="product_buy" >

          <h3 v-if="inventory>5">In stock</h3>
          <h3 v-else-if="inventory>0 && inventory<=5">Only few left!</h3>
          <h3 v-else>Out of stock</h3>

          <h2>Price - {{price}}rs</h3>
          <!-- Trying code in HTML -->
          <button
            :disabled="inventory<=0"
            @click="user.money_spent+=this.price; buyAnItem();"
          >
            BUY NOW
          </button>

        </div>
      </div>
      <hr>

      <h3 class="section-heading">USPs -</h3>
      <ul>
        <li v-for="usp in usps">{{usp}}</li>
      </ul>

      <h3 class="section-heading">Versions -</h3>
      <ol>
        <li v-for="ver in versions">{{ver}}</li>
      </ol>

      <hr />
      <br /><br />
      <hr />

      <div>
        <h3>Hi {{user.user_name}}</h3>
        <h3>Money spent - {{user.money_spent}}</h3>
        <button @click="init">RESET</button>
      </div>
    </div>

    <script src="./main.js"></script>
    <script>
      const mountedApp = app.mount("#app");
      mountedApp.init()
    </script>
  </body>
</html>
